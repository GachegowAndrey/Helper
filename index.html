<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<title>Helper</title>
<style type="text/css">
	/*downloadImage*/
	input[type=file] {
  display: none; }	
.inputFileIcon  {
  position: relative;
  /*top: 90%;
  left: 25%;
  transform: translate(-50%, -50%);
  width: 15px;
  height: 15px;
  background-color: transparent;
  display: block;*/
  cursor: pointer;
  border-radius: 15px;
  border: 3px solid #000; }



		#buttonP:hover, #buttonN:hover{
			cursor: pointer;
			 
		}
		#show:hover::after{
			content: attr(data-title);
			position: absolute; 
			left: 12%; top: 50%; /* Положение подсказки */
            z-index: 1; /* Отображаем подсказку поверх других элементов */
            background: rgba(255,0,0,0.9); /* Полупрозрачный цвет фона */
            color: white;			
		}
	</style>
</head>
<body>
<!--Создаём таблицу контейнер, которой задаём следующее
оформление:
border="1" - рамка вокруг контейнера. Увеличив число, можно увеличить толщину рамки.
align="center" - размещаем контейнер по центру экрана.
rules="rows" - убираем двойную рамку.
style="width:60%;" - добавляем стилевое свойства, делающее
контейнер и весь сайт "резиновым".
Сделать полноценный адаптивный дизайн, этим способом невозможно.-->
<table
border="1"
align="center"
rules="rows"
style="width:80%;">
<!--Создаём строку-->
<tr>
<!--Создаём ячейку строки-->
<td>
<!--ШАПКА САЙТА-->

<!--В ячейке строки создаём ещё одну таблицу для шапки сайта.
Оформление:
border="1" - двойная рамка толщиной в 1px
background="images/168.png" - картинка в шапке сайта, если требуется.
Адрес картинки вы должны вставить свой.
bgcolor="#7FFFD4" - фоновый цвет в шапке, если нет картинки.
cellpadding="10" - отступ содержимого от рамки не менее 10px.
style="width:100%; border-radius:5px;" - добавляем "резиновость"
и закругляем уголки рамки-->
<table
border="1"
background="#FF00AA"
bgcolor="#1FFFDE"
cellpadding="10"
style="width:100%; border-radius:5px;">
<!--Создаём строку таблицы-->
<tr>
<!--Создаём столбец таблицы-->
<th>
<!--Содержание ячейки столбца-->
<h1>Помошник</h1>
<h3>Кликните на кнопки ниже</h3>
<!--Закрываем таблицу-->
</th>
</tr>
</table>

<!--ОСНОВНОЙ КОНТЕНТ-->

<!--В этой же ячейке контейнера создаём ещё одну таблицу
для основного контента.
Оформление как и в предыдущей таблице-->

<table
border="1"
background="FF00AA"
bgcolor="#BCEFED"
cellpadding="10"
style="width:100%; border-radius:5px;">
<!--Создаём строку-->
<tr>
<!--Создаём ячейку
Оформление:
rowspan="2" - объединяем две ячейки в одну.
Число объединяемых ячеек по числу ячеек в сайдбаре.
style="width:80%" - основной контент занимает 80% всей площади,
оставшиеся 20% для сайдбара-->
<td
rowspan="2"
style="width:30%">

<h2>Текстовая информация</h2>
<button onclick="Hi()">Hello</button><br>
<button type="button" onclick="time()">Today!</button><br>
<button id="show" onclick="document.getElementById('slider').style.display='block'; document.getElementById('show').style.display='none'; document.getElementById('hide').style.display='block';" style="display:block;" data-title="можно клавишами">Показать слайдер</button>
<button id="hide" onclick="document.getElementById('slider').style.display='none'; document.getElementById('show').style.display='block'; document.getElementById('hide').style.display='none';" style="display:none;">Скрыть слайдер</button>
<button id="showAudio" onclick="document.getElementById('audioPlayer').style.display='block'; document.getElementById('showAudio').style.display='none'; document.getElementById('hideAudio').style.display='block';" style="display:block;" data-title="можно клавишами">Показать аудиоплеер</button>
<button id="hideAudio" onclick="document.getElementById('audioPlayer').style.display='none'; document.getElementById('showAudio').style.display='block'; document.getElementById('hideAudio').style.display='none';" style="display:none;">Скрыть плееер</button>
    <button type="button" onclick="changeLog()" >Изменения</button><br>
    <button type="button" onclick="Schedule()" >Расписание</button><br>
    <button type="button" onclick="MySkills()">Что ты умеешь?</button><br>
    <button type="button" onclick="">Закрыть</button><br>
    
		
<!--Начинаем абзац с красной строки-->

<!--Закрываем ячейку-->
</td>

<!--САЙДБАР-->

<!--Создаём ячейку сайдбара-->
<td bgcolor="#efeffa" style="width:25%">
<h3>Картинка</h3>
<img width="180" height="300" src="data/icons/FirstIcon.jpg"/>
<!--Абзац для ссылки на страницу сайта-->
<p>
<!--Ссылка на страницу сайта-->

</p>
<!--Закрываем строку Меню-->
</td>
<td>
	<!--Speakins -->
	<h1>Общение</h1>
	<p id="text"></p>
	<div id="slider" style="display: none;" >
		<img src="data/res/BW.jpg" id="img" style="height:150px"><br>
	    <button id="buttonP" >Prew</button>
        <button id="buttonN" >Next</button>
        <div class="downloadButton">
        	<label>
        		<img class="inputFileIcon" src="data/icons/add.svg" alt="Выбрать файл"
            width="25" >
<input  type="file" onchange="donwload(this)" multiple="true">
        	</label>
</div>

	</div>
	<div class="player" id="audioPlayer" style="display: none;">

<div class="details">
<div class="now-playing">PLAYING x OF y</div>
<div class="track-art"></div>
<div class="track-name">Track Name</div>
<div class="track-artist">Track Artist</div>
</div>

<div class="buttons">
<button class="prvTr" onclick="prevTrack()"><=</button> 
<button class="plP" onclick="playpauseTrack()">|></button> 
<button class="nxtTr" onclick="nextTrack()">=></button>
<label><img class="inputFileIcon" src="data/icons/add.svg" alt="Выбрать файл"
            width="25" >
<input id="audio-upload" type="file" /></label>
<!--<div dropzone>
	<label>
        		<img class="inputFileIcon" src="data/icons/add.svg" alt="Выбрать файл"
            width="25" >
  <span class="material-icons"></span>
  <input type="file" accept="audio/*"></label>
</div>-->
</div>

<div class="slider_container">
<div class="current-time">00:00</div>Duration<div class="total-duration">00:00</div>
<input type="range" min="1" max="100" value="0" class="seek_slider" onchange="seekTo()">

</div>

<div class="slider_container">
<i class="fa fa-volume-down">Volume</i>
<input type="range" min="1" max="100" value="99" class="volume_slider" onchange="setVolume()">
<i class="fa fa-volume-up"></i>
</div>
</div>
</td>
</tr>

<!--Создаём строку с дополнительной информацией<tr>-->

<!--Ячейка с дополнительной информацией <td
bgcolor="#aae6fF"
align="center">
<h3>Общая информация</h3>
<p>Текст общей информации или реклама</p>-->

<!--Закрываем ячейку с общей информацией
и таблицу основного контента</td>
</tr>-->

</table>

<!--ПОДВАЛ-->

<!--Создаём таблицу подвала-->
<table
border="1"
bgcolor="#7FFFD4"
height="100"
cellpadding="10"
style="width:100%; border-radius:5px;">
<!--Создаём строку.-->
<tr>
<!--Создаём столбец-->
<th>
<h3>Подвал</h3>
<!--Закрываем таблицу подвала. При желании в подвале можно
сделать несколько строк и столбцов-->
</th>
</tr>
</table>
<!--Закрываем таблицу контейнера-->
</td>
</tr>
</table>
<script type="text/javascript" name="loadAudio">
	function changeHandler({
  target
}) {
  // Make sure we have files to use
  if (!target.files.length) return;

  // Create a blob that we can use as an src for our audio element
  const urlObj = URL.createObjectURL(target.files[0]);
  track_list.push({
  	name:"",
  	artist:"",
  	image:"",
  	path:urlObj
  });
  // Create  or choose  an audio element
  //var audio = document.getElementById("aFile");
  //var audio1 = document.getElementById("auFile");
  
 // const audio = document.createElement("audio");

  // Clean up the URL Object after we are done with it
  
  audio.addEventListener("load", () => {
    URL.revokeObjectURL(urlObj);
  });
  

  // Append the audio element
  //document.body.appendChild(audio);

  // Allow us to control the audio
 // audio.controls = "true";
  
  

  // Set the src and start loading the audio from the file
  //audio.src = urlObj;
  
 
}

document
  .getElementById("audio-upload")
  .addEventListener("change", changeHandler);
</script>
<script type="text/javascript" name="downloadAudio">
	dropZone.onclick = () => {
  input.click();
  input.onchange = () => {
    file = input.files[0];
    track_list.push(
    	{name:"",
    	artist:"",
    	image:"",
    	path:file}
    	);
//{
//name: "ArmyOfWizard",
//artist: "неизвестно",
//image: "Image URL",
//path: "data/mp3/ArmyOfWizard.mp3"
//}
    //playTrack(file);
  };
};
</script>
<script type="text/javascript" name="change">
	var log=["16 мая: \n-добавлен аудиоплеер\n -добавлена кнопка загрузки изображения в слайдер","\n17 мая: \n-добавлена кнопка загрузки файла в плеер"]
	function changeLog(){
		

		alert(log);
	}
</script>
<script type="text/javascript" name="donwloadImages">
	function donwload(input) {   
    let reader = new FileReader();//считываем
	let file = input.files[0];//ввод
    reader.readAsDataURL(file);//читаем url

    reader.onload = function () {
        let img = document.createElement('img');//создаем элемент 
        img.src = reader.result;
		images.push(reader.result);//адресс картинки
    }
}
</script>
<script type="text/javascript">
	// Выбераем все элементы на HTML-странице
// и присвоить их переменной
let now_playing = document.querySelector(".now-playing");
let track_art = document.querySelector(".track-art");
let track_name = document.querySelector(".track-name");
let track_artist = document.querySelector(".track-artist");

let playpause_btn = document.querySelector(".plP");
let next_btn = document.querySelector(".nxtTr");
let prev_btn = document.querySelector(".prvTr");

let seek_slider = document.querySelector(".seek_slider");
let volume_slider = document.querySelector(".volume_slider");
let curr_time = document.querySelector(".current-time");
let total_duration = document.querySelector(".total-duration");

// Указываем глобально используемые значения
let track_index = 0;
let isPlaying = false;
let updateTimer;

// Создаём аудио элемент для плеера
let curr_track = document.createElement('audio');

// Определяем список треков, которые должны быть воспроизведены
let track_list = [
{
name: "Game of ThronesEnd",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/igra-prestolov--3-sezon-4-seriya-konec.mp3"
},
{
name: "ArmyOfWizard",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/ArmyOfWizard.mp3"
},
{
name: "EarthMainTheme",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/EarthMainTheme.mp3"
},
{
name: "Blues",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/Blues.mp3"
},
{
name: "Voland",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/Voland.mp3"
},
{
name: "Game of Thrones Drakaris",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/igra-prestolov-drakaris.mp3"
},
{
name: "Game of ThronesMainTheme",
artist: "неизвестно",
image: "Image URL",
path: "data/mp3/igra-prestolov-osnovnaya-tema-veolonchel.mp3",
},
];

function loadTrack(track_index) {
// Очистить предыдущий таймер поиска
clearInterval(updateTimer);
resetValues();
    
// Загрузить новый трек
curr_track.src = track_list[track_index].path;
curr_track.load();
    
// Обновить информацию о треке
track_art.style.backgroundImage = "url(" + track_list[track_index].image + ")";
track_name.textContent = track_list[track_index].name;
track_artist.textContent = track_list[track_index].artist;
now_playing.textContent = "PLAYING " + (track_index + 1) + " OF " + track_list.length;
    
// Установливаем интервал 1000 миллисекунд
// для обновления ползунка поиска
updateTimer = setInterval(seekUpdate, 1000);
    
// Перейти к следующему треку, если текущий закончил воспроизведение
// используя событие "завершено"
curr_track.addEventListener("ended", nextTrack);
    
// Применить случайный цвет фона
random_bg_color();
}
    
function random_bg_color() {
// Получить случайное число от 64 до 256
// (для получения более светлых тонов)
let red = Math.floor(Math.random() * 256) + 64;
let green = Math.floor(Math.random() * 256) + 64;
let blue = Math.floor(Math.random() * 256) + 64;
    
// Построить цвет с заданными значениями
let bgColor = "rgb(" + red + ", " + green + ", " + blue + ")";
    
// Установить фон на новый цвет
document.body.style.background = bgColor;
}
    
// Функция для сброса всех значений по умолчанию
function resetValues() {
curr_time.textContent = "00:00";
total_duration.textContent = "00:00";
seek_slider.value = 0;
}

function playpauseTrack() {
// Переключение между воспроизведением и паузой
// в зависимости от текущего состояния
if (!isPlaying) playTrack();
else pauseTrack();
}
    
function playTrack() {
// Воспроизвести загруженный трек
curr_track.play();
isPlaying = true;
    
// Заменить значок на значок паузы
playpause_btn.innerHTML = '||';
}
    
function pauseTrack() {
// Приостановить загруженный трек
curr_track.pause();
isPlaying = false;
    
// Заменить значок на значок воспроизведения
playpause_btn.innerHTML = '|>';
}
    
function nextTrack() {
// Вернитесь к первой дорожке, если
// текущий является последним в списке треков
if (track_index < track_list.length - 1)
track_index += 1;
else track_index = 0;
    
// Загрузите и воспроизведите новый трек
loadTrack(track_index);
playTrack();
}
    
function prevTrack() {
// Вернитесь к последней дорожке, если
// текущая первая в списке треков
if (track_index > 0)
track_index -= 1;
else track_index = track_list.length - 1;
    
// Загрузите и воспроизведите новый трек
loadTrack(track_index);
playTrack();
}

function seekTo() {
// Рассчитать позицию поиска по
// процент ползунка поиска
// и получить относительную продолжительность трека
seekto = curr_track.duration * (seek_slider.value / 100);
    
// Установите текущую позицию трека на рассчитанную позицию поиска
curr_track.currentTime = seekto;
}
    
function setVolume() {
// Установите громкость в соответствии с
// процент установленного ползунка громкости
curr_track.volume = volume_slider.value / 100;
}
    
function seekUpdate() {
let seekPosition = 0;
    
// Проверьте, является ли продолжительность текущей дорожки разборчивым числом
if (!isNaN(curr_track.duration)) {
seekPosition = curr_track.currentTime * (100 / curr_track.duration);
seek_slider.value = seekPosition;
    
// Рассчитать оставшееся время и общую продолжительность
let currentMinutes = Math.floor(curr_track.currentTime / 60);
let currentSeconds = Math.floor(curr_track.currentTime - currentMinutes * 60);
let durationMinutes = Math.floor(curr_track.duration / 60);
let durationSeconds = Math.floor(curr_track.duration - durationMinutes * 60);
    
// Добавьте ноль к однозначным значениям времени
if (currentSeconds < 10) { currentSeconds = "0" + currentSeconds; }
if (durationSeconds < 10) { durationSeconds = "0" + durationSeconds; }
if (currentMinutes < 10) { currentMinutes = "0" + currentMinutes; }
if (durationMinutes < 10) { durationMinutes = "0" + durationMinutes; }
    
// Показать обновленную продолжительность
curr_time.textContent = currentMinutes + ":" + currentSeconds;
total_duration.textContent = durationMinutes + ":" + durationSeconds;
}
}

// Загрузить первый трек в треклисте
loadTrack(track_index);
</script>

<script src="js/script.js"></script>
<script>
	function randomInteger(min, max) {
  // случайное число от min до (max+1)
  let rand = min + Math.random() * (max + 1 - min);
  return Math.floor(rand);
}


	
	var options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
	var date=new Date();
	function time(){
	alert(date.toLocaleDateString("ru",options));
	
    var timeText=["Сегодня прекрасный день?","Как вам сегодня?",
    "Какой-то праздник?","У меня нет календаря!"];
	text.textContent = timeText[randomInteger(0,3)];
	
	}
function Hi() {
	
	var helloText=["Добро пожаловать","Вам тоже не хворать","Приветствую","Да?"];
    text.textContent = helloText[randomInteger(0,3)];

	var greetings=["Good morning!","Good afternoon!", "Good evening!","Good night!"];
    let option={hour: 'numeric',minute: 'numeric'};
	
	var hours=date.getHours();
	var time=" "+date.getHours().toString().padStart(2, "0") + ':' + date.getMinutes().toString().padStart(2, "0");
 
  switch(true) {
    case(hours >= 5 &&hours<11)  :   alert(greetings[0]+time); break;
    case(hours >= 11&&hours<16)  :   alert(greetings[1]+time); break;
	case(hours >= 16&&hours<23)  :   alert(greetings[2]+time); break;
	default:alert(greetings[3]+time);break;
}
}


let images=["data/res/BW.jpg",	"data/res/Lo.jpg",
 "data/res/Ca.jpg","data/res/Ds.webp","data/res/Im.webp",
],i = 0;
	

	let left=buttonP.onclick = () => i == 0 ? (i = images.length - 1, img.src = images[i]) : img.src = images[--i];
	let right=buttonN.onclick = () => i == images.length - 1 ? (i = 0, img.src = images[i]) : img.src = images[++i];

function eventKey(e) {
  switch (e.keyCode) {

    case 37:
      buttonP.onclick();
      break;

    case 39:
      buttonN.onclick();
      break;

  }
}
addEventListener("keydown", eventKey);
</script>
</body>
</html>
